{"version":3,"sources":["components/NowPlaying/styles.js","components/NowPlaying/index.js"],"names":["StNowPlayingContainer","styled","section","StNowPlayingHeader","header","StNowPlayingSigner","article","StNowPlayingSignerInfo","div","StNowPlayingMusicContainer","StNowPlayingMusic","StNowPlayingMusicProgressBar","NowPlaying","id","useParams","useState","parseInt","currentMusicId","setCurrentMusicId","currentMusic","useSelector","selectros","getMusic","dispatch","useDispatch","History","useHistory","useEffect","selectedMusic","musics","filter","music","setMusic","setIsPlaying","isPlaying","isEnded","prev","length","timeCalcolator","time","min","Math","floor","sec","Layout","onClick","goBack","to","src","image","alt","musicName","artist","description","currentTime","type","value","max","duration","readOnly"],"mappings":"iNAEaA,EAAwBC,IAAOC,QAAV,wRAerBC,EAAqBF,IAAOG,OAAV,4ZAsBlBC,EAAqBJ,IAAOK,QAAV,kiBA2BlBC,EAAyBN,IAAOO,IAAV,+aAuBtBC,EAA6BR,IAAOK,QAAV,sLAS1BI,EAAoBT,IAAOO,IAAV,mjBA+BjBG,EAA+BV,IAAOO,IAAV,oU,uCCT1BI,UAlGI,WAAO,IAChBC,EAAOC,cAAPD,GADe,EAEqBE,mBAASC,SAASH,IAFvC,mBAEhBI,EAFgB,KAEAC,EAFA,KAGjBC,EAAeC,YAAYC,IAAUC,UACrCC,EAAWC,cACXC,EAAUC,cAEhBC,qBAAU,WACR,IAAMC,EAAgBC,IAAOC,QAAO,SAACC,GAAD,OAAWA,EAAMlB,KAAOI,KAC5DM,EAASS,YAASJ,EAAc,KAChCL,EAASU,aAAa,MACrB,CAAChB,EAAgBM,IAEpB,IAAMW,EAAS,OAAGf,QAAH,IAAGA,OAAH,EAAGA,EAAce,UAC1BC,EAAO,OAAGhB,QAAH,IAAGA,OAAH,EAAGA,EAAcgB,QAE9BR,qBAAU,WACJQ,GACFjB,GAAkB,SAACkB,GAAD,OAAWA,IAAc,OAANP,UAAM,IAANA,SAAA,EAAAA,IAAQQ,QAAS,EAAI,EAAID,EAAO,OAEtE,CAACD,IAEJ,IAIMG,EAAiB,SAACC,GACtB,IAAMC,EAAMC,KAAKC,MAAMH,EAAO,IACxBI,EAAMF,KAAKC,MAA0B,IAAnBH,EAAO,GAAKC,IACpC,OAAIA,EAAM,IAAMG,EAAM,GACd,IAAN,OAAWH,EAAX,aAAmBG,GACVH,EAAM,IAAMG,EAAM,GACrB,IAAN,OAAWH,EAAX,YAAkBG,GAEZ,GAAN,OAAUH,EAAV,YAAiBG,IAGrB,OACE,cAACC,EAAA,EAAD,UACE,eAAC5C,EAAD,WACE,eAACG,EAAD,WACE,cAAC,IAAD,CAAkB0C,QAASpB,EAAQqB,SADrC,aAGE,cAAC,IAAD,CAAMC,GAAE,wBAAY5B,QAAZ,IAAYA,OAAZ,EAAYA,EAAcN,IAAlC,SACE,cAAC,IAAD,SAGJ,eAACR,EAAD,WACE,qBAAK2C,IAAG,OAAE7B,QAAF,IAAEA,OAAF,EAAEA,EAAc8B,MAAOC,IAAI,UACnC,eAAC3C,EAAD,WACE,oCAAKY,QAAL,IAAKA,OAAL,EAAKA,EAAcgC,YACnB,oCAAKhC,QAAL,IAAKA,OAAL,EAAKA,EAAciC,SACnB,mCAAIjC,QAAJ,IAAIA,OAAJ,EAAIA,EAAckC,oBAGtB,eAAC5C,EAAD,WACE,eAACC,EAAD,WACE,+BACE,cAAC,IAAD,MAEF,cAAC,IAAD,CACEmC,QAAS,WACP3B,EACED,GAAkB,EAAIY,IAAOQ,OAASpB,EAAiB,MAI7D,wBAAQ4B,QA7CM,WACtBtB,EAASU,aAAcC,KA4Cf,SACGA,EAAY,cAAC,IAAD,IAAmB,cAAC,IAAD,MAElC,cAAC,IAAD,CACEW,QAAS,WACP3B,EACED,IAAwB,OAANY,UAAM,IAANA,SAAA,EAAAA,IAAQQ,QAAS,EAAI,EAAIpB,EAAiB,MAIlE,+BACE,cAAC,IAAD,SAGJ,eAACN,EAAD,WACE,4BAAI2B,EAAc,OAACnB,QAAD,IAACA,OAAD,EAACA,EAAcmC,eACjC,uBACEC,KAAK,QACLC,MAAK,iBAAKrC,QAAL,IAAKA,OAAL,EAAKA,EAAcmC,aACxBd,IAAI,IACJiB,IAAG,iBAAKtC,QAAL,IAAKA,OAAL,EAAKA,EAAcuC,UACtBC,UAAQ,IAEV,4BAAIrB,EAAc,OAACnB,QAAD,IAACA,OAAD,EAACA,EAAcuC","file":"static/js/10.97530fd8.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const StNowPlayingContainer = styled.section`\n  width: 100vw;\n  height: 100vh;\n  font-size: 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  color: #fff;\n  margin-left: 25%;\n  @media (max-width: 700px) {\n    margin-left: 20%;\n  }\n`;\n\nexport const StNowPlayingHeader = styled.header`\n  width: 100%;\n  height: 10vh;\n  padding: 0 20px;\n  color: #fff;\n  border-bottom: 2px solid #333;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  & a {\n    display: flex;\n    align-items: center;\n  }\n  & svg {\n    cursor: pointer;\n  }\n  @media (max-width: 700px) {\n    padding: 0 10px;\n    font-size: 1.2rem;\n  }\n`;\nexport const StNowPlayingSigner = styled.article`\n  width: 100%;\n  height: 70vh;\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n  overflow: auto;\n  border-bottom: 2px solid #222;\n  & img {\n    width: 40%;\n    height: 100%;\n    background-color: #e0e0e0;\n    object-fit: cover;\n  }\n  @media (max-width: 700px) {\n    height: 80vh;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    & img {\n      width: 80%;\n      height: auto;\n    }\n  }\n`;\nexport const StNowPlayingSignerInfo = styled.div`\n  width: 60%;\n  height: 50vh;\n  padding: 0 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  & h5 {\n    color: #a0a0a0;\n  }\n  & p {\n    padding: 15px 0;\n    font-size: 1rem;\n    border-top: 2px solid #222;\n  }\n  @media (max-width: 700px) {\n    width: 100%;\n    padding: 0;\n    justify-content: flex-start;\n    font-size: 1rem;\n  }\n`;\nexport const StNowPlayingMusicContainer = styled.article`\n  width: 100%;\n  height: auto;\n  padding: 20px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n`;\nexport const StNowPlayingMusic = styled.div`\n  width: 100%;\n  padding: 20px 0;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  font-size: 1.5rem;\n  & button {\n    width: 70px;\n    height: 70px;\n    font-size: 1.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    background-color: #95d854;\n    color: #fff;\n    cursor: pointer;\n  }\n  & svg {\n    cursor: pointer;\n  }\n  & span {\n    color: #a0a0a0;\n    & svg {\n      cursor: not-allowed;\n    }\n  }\n`;\n\nexport const StNowPlayingMusicProgressBar = styled.div`\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n  & input {\n    width: 65%;\n    outline: none;\n    background: transparent;\n    ::-webkit-slider-thumb {\n      visibility: hidden;\n    }\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { RiArrowLeftSLine, RiPlayMiniFill } from \"react-icons/ri\";\nimport { MdSkipNext, MdSkipPrevious } from \"react-icons/md\";\nimport { SiApplemusic } from \"react-icons/si\";\nimport { TiArrowRepeat, TiArrowShuffle, TiMediaPause } from \"react-icons/ti\";\n\nimport Layout from \"../Layout\";\nimport {\n  StNowPlayingContainer,\n  StNowPlayingHeader,\n  StNowPlayingMusic,\n  StNowPlayingMusicContainer,\n  StNowPlayingMusicProgressBar,\n  StNowPlayingSigner,\n  StNowPlayingSignerInfo,\n} from \"./styles\";\nimport { musics } from \"../../data/data\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setIsPlaying, setMusic } from \"../../redux/playing/productActions\";\nimport selectros from \"../../redux/playing/selectors\";\n\nconst NowPlaying = () => {\n  const { id } = useParams();\n  const [currentMusicId, setCurrentMusicId] = useState(parseInt(id));\n  const currentMusic = useSelector(selectros.getMusic);\n  const dispatch = useDispatch();\n  const History = useHistory();\n\n  useEffect(() => {\n    const selectedMusic = musics.filter((music) => music.id === currentMusicId);\n    dispatch(setMusic(selectedMusic[0]));\n    dispatch(setIsPlaying(true));\n  }, [currentMusicId, dispatch]);\n\n  const isPlaying = currentMusic?.isPlaying;\n  const isEnded = currentMusic?.isEnded;\n\n  useEffect(() => {\n    if (isEnded) {\n      setCurrentMusicId((prev) => (prev >= musics?.length - 1 ? 0 : prev + 1));\n    }\n  }, [isEnded]);\n\n  const togglePlayMusic = () => {\n    dispatch(setIsPlaying(!isPlaying));\n  };\n\n  const timeCalcolator = (time) => {\n    const min = Math.floor(time / 60);\n    const sec = Math.floor((time / 60 - min) * 60);\n    if (min < 10 && sec < 10) {\n      return `0${min}:0${sec}`;\n    } else if (min < 10 && sec > 10) {\n      return `0${min}:${sec}`;\n    } else {\n      return `${min}:${sec}`;\n    }\n  };\n  return (\n    <Layout>\n      <StNowPlayingContainer>\n        <StNowPlayingHeader>\n          <RiArrowLeftSLine onClick={History.goBack} />\n          NowPlaying\n          <Link to={`/album/${currentMusic?.id}`}>\n            <SiApplemusic />\n          </Link>\n        </StNowPlayingHeader>\n        <StNowPlayingSigner>\n          <img src={currentMusic?.image} alt=\"hello\" />\n          <StNowPlayingSignerInfo>\n            <h3>{currentMusic?.musicName}</h3>\n            <h5>{currentMusic?.artist}</h5>\n            <p>{currentMusic?.description}</p>\n          </StNowPlayingSignerInfo>\n        </StNowPlayingSigner>\n        <StNowPlayingMusicContainer>\n          <StNowPlayingMusic>\n            <span>\n              <TiArrowShuffle />\n            </span>\n            <MdSkipPrevious\n              onClick={() => {\n                setCurrentMusicId(\n                  currentMusicId <= 1 ? musics.length : currentMusicId - 1\n                );\n              }}\n            />\n            <button onClick={togglePlayMusic}>\n              {isPlaying ? <TiMediaPause /> : <RiPlayMiniFill />}\n            </button>\n            <MdSkipNext\n              onClick={() => {\n                setCurrentMusicId(\n                  currentMusicId >= musics?.length - 1 ? 0 : currentMusicId + 1\n                );\n              }}\n            />\n            <span>\n              <TiArrowRepeat />\n            </span>\n          </StNowPlayingMusic>\n          <StNowPlayingMusicProgressBar>\n            <p>{timeCalcolator(currentMusic?.currentTime)}</p>\n            <input\n              type=\"range\"\n              value={`${currentMusic?.currentTime}`}\n              min=\"0\"\n              max={`${currentMusic?.duration}`}\n              readOnly\n            />\n            <p>{timeCalcolator(currentMusic?.duration)}</p>\n          </StNowPlayingMusicProgressBar>\n        </StNowPlayingMusicContainer>\n      </StNowPlayingContainer>\n    </Layout>\n  );\n};\n\nexport default NowPlaying;\n"],"sourceRoot":""}