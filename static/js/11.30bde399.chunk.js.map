{"version":3,"sources":["components/NowPlaying/styles.js","components/NowPlaying/index.js"],"names":["StNowPlayingContainer","styled","section","StNowPlayingHeader","header","StNowPlayingSigner","article","StNowPlayingSignerInfo","div","StNowPlayingMusicContainer","StNowPlayingMusic","StNowPlayingMusicProgressBar","NowPlaying","id","useParams","useState","parseInt","currentMusicId","setCurrentMusicId","currentMusic","useSelector","selectros","getMusic","dispatch","useDispatch","History","useHistory","useEffect","console","log","selectedMusic","musics","filter","music","setMusic","setIsPlaying","isPlaying","isEnded","prev","length","timeCalcolator","time","min","Math","floor","sec","Layout","onClick","goBack","to","src","image","alt","musicName","artist","description","currentTime","type","value","max","duration"],"mappings":"kNAEaA,EAAwBC,IAAOC,QAAV,wRAerBC,EAAqBF,IAAOG,OAAV,4ZAsBlBC,EAAqBJ,IAAOK,QAAV,kiBA2BlBC,EAAyBN,IAAOO,IAAV,wcAwBtBC,EAA6BR,IAAOK,QAAV,sLAS1BI,EAAoBT,IAAOO,IAAV,mjBA+BjBG,EAA+BV,IAAOO,IAAV,oU,uCCR1BI,UApGI,WAAO,IAAD,IAChBC,EAAMC,cAAND,GADgB,EAEqBE,mBAASC,SAASH,IAFvC,mBAEhBI,EAFgB,KAEAC,EAFA,KAGjBC,EAAeC,YAAYC,IAAUC,UACrCC,EAAWC,cACXC,EAAUC,cAEhBC,qBAAU,WACRC,QAAQC,IAAIZ,GACZ,IAAMa,EAAgBC,IAAOC,QAAO,SAACC,GAAD,OAAWA,EAAMpB,KAAOI,KAC5DM,EAASW,YAASJ,EAAc,KAChCP,EAASY,aAAa,MACrB,CAAClB,EAAgBM,IAEpB,IAAMa,EAAS,OAAGjB,QAAH,IAAGA,OAAH,EAAGA,EAAciB,UAC1BC,EAAO,OAAGlB,QAAH,IAAGA,OAAH,EAAGA,EAAckB,QAE9BV,qBAAU,WACJU,GACFnB,GAAkB,SAACoB,GAAD,OAAWA,IAAc,OAANP,UAAM,IAANA,SAAA,EAAAA,IAAQQ,QAAS,EAAI,EAAID,EAAO,OAEtE,CAACD,IAEJ,IAIMG,EAAiB,SAACC,GACtB,IAAMC,EAAMC,KAAKC,MAAMH,EAAO,IACxBI,EAAMF,KAAKC,MAA0B,IAAnBH,EAAO,GAAKC,IACpC,OAAIA,EAAM,IAAMG,EAAM,GACd,IAAN,OAAWH,EAAX,aAAmBG,GACVH,EAAM,IAAMG,EAAM,GACrB,IAAN,OAAWH,EAAX,YAAkBG,GAEZ,GAAN,OAAUH,EAAV,YAAiBG,IAIrB,OACE,cAACC,EAAA,EAAD,UACE,eAAC9C,EAAD,WACE,eAACG,EAAD,WACE,cAAC,IAAD,CAAkB4C,QAAStB,EAAQuB,SADrC,aAGE,cAAC,IAAD,CAAMC,GAAE,wBAAY9B,QAAZ,IAAYA,OAAZ,EAAYA,EAAcN,IAAlC,SACE,cAAC,IAAD,SAGJ,eAACR,EAAD,WACE,qBAAK6C,IAAG,OAAE/B,QAAF,IAAEA,OAAF,EAAEA,EAAcgC,MAAOC,IAAI,UACnC,eAAC7C,EAAD,WACE,oCAAKY,QAAL,IAAKA,OAAL,EAAKA,EAAckC,YACnB,oCAAKlC,QAAL,IAAKA,OAAL,EAAKA,EAAcmC,SACnB,mCAAInC,QAAJ,IAAIA,OAAJ,EAAIA,EAAcoC,oBAGtB,eAAC9C,EAAD,WACE,eAACC,EAAD,WACE,+BACE,cAAC,IAAD,MAEF,cAAC,IAAD,CACEqC,QAAS,WACP7B,EACqB,IAAnBD,EAAuBc,IAAOQ,OAAStB,EAAiB,MAI9D,wBAAQ8B,QA9CM,WACtBxB,EAASY,aAAcC,KA6Cf,SACGA,EAAY,cAAC,IAAD,IAAmB,cAAC,IAAD,MAElC,cAAC,IAAD,CACEW,QAAS,WACP7B,EACED,KAAyB,OAANc,UAAM,IAANA,SAAA,EAAAA,IAAQQ,QAAS,EAAI,EAAItB,EAAiB,MAKnE,+BACE,cAAC,IAAD,SAGJ,eAACN,EAAD,WACE,4BAAI6B,EAAc,iBAACrB,QAAD,IAACA,OAAD,EAACA,EAAcqC,mBAAf,QAA8B,KAChD,uBACEC,KAAK,QACLC,MAAK,iBAAEvC,QAAF,IAAEA,OAAF,EAAEA,EAAcqC,mBAAhB,QAA+B,EACpCd,IAAI,IACJiB,IAAG,iBAAKxC,QAAL,IAAKA,OAAL,EAAKA,EAAcyC,YAExB,4BAAIpB,EAAc,OAACrB,QAAD,IAACA,OAAD,EAACA,EAAcyC","file":"static/js/11.30bde399.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const StNowPlayingContainer = styled.section`\n  width: 100vw;\n  height: 100vh;\n  font-size: 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  color: #fff;\n  margin-left: 25%;\n  @media (max-width: 700px) {\n    margin-left: 20%;\n  }\n`;\n\nexport const StNowPlayingHeader = styled.header`\n  width: 100%;\n  height: 10vh;\n  padding: 0 20px;\n  color: #fff;\n  border-bottom: 2px solid #333;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  & a {\n    display: flex;\n    align-items: center;\n  }\n  & svg {\n    cursor: pointer;\n  }\n  @media (max-width: 700px) {\n    padding: 0 10px;\n    font-size: 1.2rem;\n  }\n`;\nexport const StNowPlayingSigner = styled.article`\n  width: 100%;\n  height: 70vh;\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n  overflow: auto;\n  border-bottom: 2px solid #222;\n  & img {\n    width: 40%;\n    height: 100%;\n    background-color: #e0e0e0;\n    object-fit: cover;\n  }\n  @media (max-width: 700px) {\n    height: 80vh;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    & img {\n      width: 80%;\n      height: auto;\n    }\n  }\n`;\nexport const StNowPlayingSignerInfo = styled.div`\n  width: 60%;\n  height: 100%;\n  padding: 0 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  overflow-y: auto;\n  & h5 {\n    color: #a0a0a0;\n  }\n  & p {\n    padding: 15px 0;\n    font-size: 1rem;\n    border-top: 2px solid #222;\n  }\n  @media (max-width: 700px) {\n    width: 100%;\n    padding: 0;\n    justify-content: flex-start;\n    font-size: 1rem;\n  }\n`;\nexport const StNowPlayingMusicContainer = styled.article`\n  width: 100%;\n  height: auto;\n  padding: 20px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n`;\nexport const StNowPlayingMusic = styled.div`\n  width: 100%;\n  padding: 20px 0;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  font-size: 1.5rem;\n  & button {\n    width: 70px;\n    height: 70px;\n    font-size: 1.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    background-color: #95d854;\n    color: #fff;\n    cursor: pointer;\n  }\n  & svg {\n    cursor: pointer;\n  }\n  & span {\n    color: #a0a0a0;\n    & svg {\n      cursor: not-allowed;\n    }\n  }\n`;\n\nexport const StNowPlayingMusicProgressBar = styled.div`\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n  & input {\n    width: 65%;\n    outline: none;\n    background: transparent;\n    ::-webkit-slider-thumb {\n      visibility: hidden;\n    }\n  }\n`;\n","import React, {useState, useEffect} from \"react\";\nimport {Link, useHistory, useParams} from \"react-router-dom\";\nimport {RiArrowLeftSLine, RiPlayMiniFill} from \"react-icons/ri\";\nimport {MdSkipNext, MdSkipPrevious} from \"react-icons/md\";\nimport {SiApplemusic} from \"react-icons/si\";\nimport {TiArrowRepeat, TiArrowShuffle, TiMediaPause} from \"react-icons/ti\";\n\nimport Layout from \"../Layout\";\nimport {\n  StNowPlayingContainer,\n  StNowPlayingHeader,\n  StNowPlayingMusic,\n  StNowPlayingMusicContainer,\n  StNowPlayingMusicProgressBar,\n  StNowPlayingSigner,\n  StNowPlayingSignerInfo,\n} from \"./styles\";\nimport {musics} from \"../../data/data\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setIsPlaying, setMusic} from \"../../redux/playing/productActions\";\nimport selectros from \"../../redux/playing/selectors\";\n\nconst NowPlaying = () => {\n  const {id} = useParams();\n  const [currentMusicId, setCurrentMusicId] = useState(parseInt(id));\n  const currentMusic = useSelector(selectros.getMusic);\n  const dispatch = useDispatch();\n  const History = useHistory();\n\n  useEffect(() => {\n    console.log(currentMusicId);\n    const selectedMusic = musics.filter((music) => music.id === currentMusicId);\n    dispatch(setMusic(selectedMusic[0]));\n    dispatch(setIsPlaying(true));\n  }, [currentMusicId, dispatch]);\n\n  const isPlaying = currentMusic?.isPlaying;\n  const isEnded = currentMusic?.isEnded;\n\n  useEffect(() => {\n    if (isEnded) {\n      setCurrentMusicId((prev) => (prev >= musics?.length - 1 ? 0 : prev + 1));\n    }\n  }, [isEnded]);\n\n  const togglePlayMusic = () => {\n    dispatch(setIsPlaying(!isPlaying));\n  };\n\n  const timeCalcolator = (time) => {\n    const min = Math.floor(time / 60);\n    const sec = Math.floor((time / 60 - min) * 60);\n    if (min < 10 && sec < 10) {\n      return `0${min}:0${sec}`;\n    } else if (min < 10 && sec > 10) {\n      return `0${min}:${sec}`;\n    } else {\n      return `${min}:${sec}`;\n    }\n  };\n\n  return (\n    <Layout>\n      <StNowPlayingContainer>\n        <StNowPlayingHeader>\n          <RiArrowLeftSLine onClick={History.goBack} />\n          NowPlaying\n          <Link to={`/album/${currentMusic?.id}`}>\n            <SiApplemusic />\n          </Link>\n        </StNowPlayingHeader>\n        <StNowPlayingSigner>\n          <img src={currentMusic?.image} alt=\"hello\" />\n          <StNowPlayingSignerInfo>\n            <h3>{currentMusic?.musicName}</h3>\n            <h5>{currentMusic?.artist}</h5>\n            <p>{currentMusic?.description}</p>\n          </StNowPlayingSignerInfo>\n        </StNowPlayingSigner>\n        <StNowPlayingMusicContainer>\n          <StNowPlayingMusic>\n            <span>\n              <TiArrowShuffle />\n            </span>\n            <MdSkipPrevious\n              onClick={() => {\n                setCurrentMusicId(\n                  currentMusicId === 1 ? musics.length : currentMusicId - 1\n                );\n              }}\n            />\n            <button onClick={togglePlayMusic}>\n              {isPlaying ? <TiMediaPause /> : <RiPlayMiniFill />}\n            </button>\n            <MdSkipNext\n              onClick={() => {\n                setCurrentMusicId(\n                  currentMusicId === musics?.length - 1 ? 1 : currentMusicId + 1\n                );\n              }}\n            />\n\n            <span>\n              <TiArrowRepeat />\n            </span>\n          </StNowPlayingMusic>\n          <StNowPlayingMusicProgressBar>\n            <p>{timeCalcolator(currentMusic?.currentTime ?? 0)}</p>\n            <input\n              type=\"range\"\n              value={currentMusic?.currentTime ?? 0}\n              min=\"0\"\n              max={`${currentMusic?.duration}`}\n            />\n            <p>{timeCalcolator(currentMusic?.duration)}</p>\n          </StNowPlayingMusicProgressBar>\n        </StNowPlayingMusicContainer>\n      </StNowPlayingContainer>\n    </Layout>\n  );\n};\n\nexport default NowPlaying;\n"],"sourceRoot":""}